<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Add/Delete array of number</title>
</head>
<body>
<script>
    /**
     * Данная функция является основной точкой входа в приложение.
     * Вся логика реализуется в этой функции
     */
    function main() {
        let arrNumber = [1, 3, 4, 45, 23, 4, 1, 3];
        console.log(arrNumber);
        alert(arrNumber);
        while (true) {
            let action = getAction();
            switch (action) {
                case 1:
                    // delete;
                    arrNumber = deleteLoop(unic(arrNumber));
                    break;
                case 2:
                    // add
                    arrNumber = addNameLoop(arrNumber);
                    break;
                case 3:
                    // show
                    showName(arrNumber);
                    break;
                case 4:
                    // exit
                    return;
                // как корректнее return или break?;
            }
        }
    }




    //Функция действия

    function getAction() {
        let choose = 0;
        while (true) {
            choose = prompt('Выберите действие: 1 - удалить; 2 - добавить; 3 - показать все; 4 - выйти');
            choose = parseInt(choose);
            // тут проверка, если введеное число отличается от возможных вариантов ввода
            if (choose === 1 || choose === 2 || choose === 3 || choose === 4) {
                break;
            }
            alert('Введите 1 - удалить, 2 - добавить, 3 - показать все или 4 - для выхода');
        }
        return choose;
    }

    //Функция создания массива уникальных значений

    function unic(arr) {
        let newArr = [];
        for (i = 0; i < arr.length; i++) {
            if (find(newArr, arr[i]) === -1) {
                newArr.push(arr[i]);
            }
        }
        return newArr;
    }

    //Поиск индекса

    function find(arr, value) {
        for (let i = 0; i < arr.length; i++) {
            if (arr[i] === value) {
                return i
            }
        }
        return -1;
    }

    // Функция удаления имен

    function deleteName(arr, name) {
        let index = find(arr, name);
        if (index !== -1) {
            arr.splice(index, 1);
            alert(name + ' успешно удален');
        } else {
            alert('Такого значения нет');
        }
        return arr;
    }

    // Цикл для повторных удалений имен

    function deleteLoop(arr) {
        while (true) {
            let question = prompt('Введите значение для удаления или отмена для выхода');
            question = parseInt(question);

            if (!question) {
                break;
            }
            if (question === '') {
                alert('Введите имя');
                continue;
            }

            arr = deleteName(arr, question);
        }

        return arr;
    }

    //Функция добавления имен

    function addName(arr, value) {
        let index = find(arr, value);
        if (index === -1) {
            arr.push(value);
            alert(value + ' успешно добавлен');
        } else {
            alert('Такое значение уже существует');
        }
        return arr;
    }

    //Функция цикл для повторного добавления имен
    function addNameLoop(arr) {
        while (true) {
            let name = prompt('Введите значение для добавления или отмена для выхода');
            name = parseInt(name);
            if (!name) {
                break;
            }
            if (name === '') {
                alert('Ошибка: Пустое значение нельзя добавить');
                continue;
            }

            arr = addName(arr, name);
        }
        return arr;
    }



    // Обновляемый список удаленных и добавленных имен

    function showName(arr) {
        alert('Список всех значений: ' + arr);
        console.log(arr);
    }

    main();
</script>
</body>
</html>
