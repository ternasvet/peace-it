<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css"
          integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
    <title>table</title>
    <style>
        /*.border {*/
        /*    background: white;*/
        /*    color: white;*/
        /*}*/

        /*td, th, tr {*/
        /*    border: 2px solid #565656;*/
        /*    background: #727272;*/
        /*    padding: 10px;*/
        /*}*/

    </style>
</head>
<body>
<script>
    function paginate(count, active, cbClick, mounted) {
        let array = [];
        for (let i = 0; i < count; i++){
            array.push(i)
        }
        return {
            buttonArray: array,
            cbClick:cbClick,
            element: document.querySelector(mounted),
            click: function (number){
                this.cbClick(number)
            },
            createButton: function () {
                this.buttonArray = this.buttonArray.map(item => {
                    return paginateItem(item + 1, active, this.click.bind(this));
                });
                this.buttonArray.forEach((item) => {
                    this.element.append(item.render())
                })
            },
            render: function(){
                this.element.classList.add('paginate');
                this.createButton();
                return this
            }
        }
    }


    function paginateItem(number, active, cbClick) {
        const item = {
            number: number,
            isActive: active === number,
            element: document.createElement('div'),
            render:function () {
                this.element.innerText = number;
                this.element.classList.add('paginate-item');
                if(this.isActive){
                    this.element.classList.add('active-item');
                }
                this.element.onclick = function (event) {
                    cbClick(number)
                };
                return this.element;
            }
        };
        return item;
    }

    const test = paginate(10, 2, (clickElement) => console.log(clickElement), '#test');
    console.log(test.render());
</script>
</body>
</html>
